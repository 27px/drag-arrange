var getElementByOrder=function(b){b=parseInt(b);var d=document.querySelectorAll(".drag-item");for(i=0;i<d.length;i++)if(d[i].style.order==b)return d[i];return!1};
window.onload=function(){document.querySelectorAll(".drag-item").forEach(function(b,d){b.style.order=d+1;b.addEventListener("dragstart",function(){b.setAttribute("x",event.clientX);b.setAttribute("y",event.clientY);event.dataTransfer.setData("text/plain",b.style.order)});b.addEventListener("dragend",function(){b.setAttribute("x",0);b.setAttribute("y",0)});b.addEventListener("dragenter",function(){});b.addEventListener("dragleave",function(){b.classList.remove("show-below");b.classList.remove("show-above")});
b.addEventListener("dragover",function(){event.preventDefault();event.offsetY<this.clientHeight/2?(b.classList.add("show-above"),b.classList.remove("show-below")):(b.classList.add("show-below"),b.classList.remove("show-above"))});b.addEventListener("drop",function(){b.classList.remove("show-below");b.classList.remove("show-above");var e=event.offsetY,d=this.clientHeight/2,a=parseInt(event.dataTransfer.getData("text/plain")),c=parseInt(b.style.order);if(a!=c)if(e<d){if(parseInt(a)+1!=c)if(e=getElementByOrder(a),
getElementByOrder(c),a<c){d=c-1;for(a+=1;a<c;a++)getElementByOrder(a).style.order=a-1;e.style.order=d}else{for(--a;a>=c;a--)getElementByOrder(a).style.order=a+1;e.style.order=c}}else if(parseInt(a)-1!=c){console.log("bottom");e=getElementByOrder(a);getElementByOrder(c);if(a<c)for(a+=1;a<c+1;a++)getElementByOrder(a).style.order=a-1;else for(--a;a>c;a--)getElementByOrder(a).style.order=a+1;e.style.order=c}})})};
